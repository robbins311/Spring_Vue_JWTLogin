{"remainingRequest":"C:\\projects\\practice\\practice\\node_modules\\babel-loader\\lib\\index.js!C:\\projects\\practice\\practice\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\projects\\practice\\practice\\src\\router\\index.js","dependencies":[{"path":"C:\\projects\\practice\\practice\\src\\router\\index.js","mtime":1640142057942},{"path":"C:\\projects\\practice\\practice\\babel.config.js","mtime":1639620512134},{"path":"C:\\projects\\practice\\practice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639620463283},{"path":"C:\\projects\\practice\\practice\\node_modules\\babel-loader\\lib\\index.js","mtime":1639620463292},{"path":"C:\\projects\\practice\\practice\\node_modules\\eslint-loader\\index.js","mtime":1639620478366}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZVJvdXRlciBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IFNpZ25VcCBmcm9tICIuLi9wYWdlcy9tZW1iZXIvU2lnblVwIjsKaW1wb3J0IExvZ2luIGZyb20gIi4uL3BhZ2VzL21lbWJlci9Mb2dpbiI7CmltcG9ydCBJbmRleCBmcm9tICIuLi9wYWdlcy9JbmRleCI7CmltcG9ydCBNZSBmcm9tICIuLi9wYWdlcy9tZW1iZXIvTWUiOwppbXBvcnQgcHJhYyBmcm9tICIuLi9wYWdlcy9wcmFjIjsKaW1wb3J0IEluZm8gZnJvbSAiLi4vcGFnZXMvbWVtYmVyL0luZm8iOwppbXBvcnQgeyBzdG9yZSB9IGZyb20gIi4uL3N0b3JlL3N0b3JlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsgLy8g66Gc6re47J24IOyduOymnQoKdmFyIHJlcXVpcmVBdXRoID0gZnVuY3Rpb24gcmVxdWlyZUF1dGgoKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogICAgY29uc29sZS5sb2coJ0hTVEVTVDo6IHJlcXVpcmVBdXRoJyk7CgogICAgaWYgKGF1dGgoKSkgewogICAgICByZXR1cm4gbmV4dCgpOwogICAgfSBlbHNlIHsKICAgICAgd2luZG93LmFsZXJ0KCLroZzqt7jsnbjsnbQg7ZWE7JqU7ZWp64uI64ukLiIpOwogICAgICByZXR1cm4gbmV4dCgnLycpOwogICAgfQoKICAgIGZ1bmN0aW9uIGF1dGgoKSB7CiAgICAgIHZhciB0b2tlbiA9IHN0b3JlLmdldHRlcnMuYWNjZXNzVG9rZW47CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogey8vICJBdXRob3JpemF0aW9uIjogYEJlYXJlciAke3Rva2VufWAsCiAgICAgICAgfQogICAgICB9OwogICAgICBjb25zb2xlLmxvZyh0b2tlbik7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgxL21lbWJlci9tZScsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2coJ0hTVEVTVDo6IHJlcyA9PiAnLCByZXMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygnSFNURVNUOjogZXJyb3IgPT4gJywgZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Owp9OwoKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIGNvbXBvbmVudDogSW5kZXgKfSwgewogIHBhdGg6ICcvcHJhYycsCiAgY29tcG9uZW50OiBwcmFjCn0sIHsKICBwYXRoOiAnL21lbWJlci9zaWdudXAnLAogIGNvbXBvbmVudDogU2lnblVwCn0sIHsKICBwYXRoOiAnL21lbWJlci9sb2dpbicsCiAgY29tcG9uZW50OiBMb2dpbgp9LAovKiAgICB7cGF0aDogJy9tZW1iZXIvbWUnLCBjb21wb25lbnQ6IE1lfSwNCiAgICB7cGF0aDogJy9tZW1iZXIvaW5mbycsIGNvbXBvbmVudDogSW5mb30sKi8KLy8g7J247Kad7J20IO2VhOyalO2VnCDtjpjsnbTsp4DripQgZGVjb3JhdG9yCnsKICBwYXRoOiAnL21lbWJlci9tZScsCiAgY29tcG9uZW50OiBNZSwKICBiZWZvcmVFbnRlcjogcmVxdWlyZUF1dGgoKQp9LCB7CiAgcGF0aDogJy9tZW1iZXIvaW5mbycsCiAgY29tcG9uZW50OiBJbmZvLAogIGJlZm9yZUVudGVyOiByZXF1aXJlQXV0aCgpCn1dOwp2YXIgb3B0aW9ucyA9IHsKICByb3V0ZXM6IHJvdXRlcywKICBtb2RlOiAnaGlzdG9yeScKfTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIob3B0aW9ucyk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["C:/projects/practice/practice/src/router/index.js"],"names":["VueRouter","SignUp","Login","Index","Me","prac","Info","store","axios","requireAuth","to","from","next","console","log","auth","window","alert","token","getters","accessToken","config","headers","get","then","res","catch","error","routes","path","component","beforeEnter","options","mode","router"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,EAAP,MAAe,oBAAf;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,SAAQC,KAAR,QAAoB,gBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,IAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAM,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;;AAGF,QAAGC,IAAI,EAAP,EAAW;AACP,aAAOH,IAAI,EAAX;AACH,KAFD,MAEO;AACHI,MAAAA,MAAM,CAACC,KAAP,CAAa,aAAb;AACA,aAAOL,IAAI,CAAC,GAAD,CAAX;AACH;;AAIC,aAASG,IAAT,GAAgB;AACZ,UAAMG,KAAK,GAAGX,KAAK,CAACY,OAAN,CAAcC,WAA5B;AACA,UAAIC,MAAM,GAAG;AACTC,QAAAA,OAAO,EAAE,CACL;AADK;AADA,OAAb;AAKAT,MAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACAV,MAAAA,KAAK,CACAe,GADL,CACS,iCADT,EAC4CF,MAD5C,EAEKG,IAFL,CAEU,UAAAC,GAAG,EAAI;AAACZ,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCW,GAAhC;AAAqC,OAFvD,EAGKC,KAHL,CAGW,UAAAC,KAAK,EAAI;AAAEd,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCa,KAAlC;AAA0C,OAHhE;AAIH;AACJ,GA1BmB;AAAA,CAApB;;AA4BA,IAAMC,MAAM,GAAG,CACX;AAACC,EAAAA,IAAI,EAAC,GAAN;AAAWC,EAAAA,SAAS,EAAC3B;AAArB,CADW,EAEX;AAAC0B,EAAAA,IAAI,EAAE,OAAP;AAAgBC,EAAAA,SAAS,EAAEzB;AAA3B,CAFW,EAGX;AAACwB,EAAAA,IAAI,EAAE,gBAAP;AAAyBC,EAAAA,SAAS,EAAE7B;AAApC,CAHW,EAIX;AAAC4B,EAAAA,IAAI,EAAE,eAAP;AAAwBC,EAAAA,SAAS,EAAE5B;AAAnC,CAJW;AAKf;AACA;AACI;AACA;AAAC2B,EAAAA,IAAI,EAAE,YAAP;AAAqBC,EAAAA,SAAS,EAAE1B,EAAhC;AAAoC2B,EAAAA,WAAW,EAAEtB,WAAW;AAA5D,CARW,EASX;AAACoB,EAAAA,IAAI,EAAE,cAAP;AAAuBC,EAAAA,SAAS,EAAExB,IAAlC;AAAwCyB,EAAAA,WAAW,EAAEtB,WAAW;AAAhE,CATW,CAAf;AAYA,IAAMuB,OAAO,GAAG;AAACJ,EAAAA,MAAM,EAANA,MAAD;AAASK,EAAAA,IAAI,EAAC;AAAd,CAAhB;AACA,IAAMC,MAAM,GAAG,IAAIlC,SAAJ,CAAcgC,OAAd,CAAf;AAEA,eAAeE,MAAf","sourcesContent":["import VueRouter from \"vue-router\";\r\nimport SignUp from \"../pages/member/SignUp\";\r\nimport Login from \"../pages/member/Login\";\r\nimport Index from \"../pages/Index\";\r\nimport Me from \"../pages/member/Me\";\r\nimport prac from \"../pages/prac\";\r\nimport Info from \"../pages/member/Info\";\r\nimport {store} from \"../store/store\";\r\nimport axios from \"axios\";\r\n\r\n// 로그인 인증\r\nconst requireAuth = () => (to, from, next) => {\r\n    console.log('HSTEST:: requireAuth')\r\n\r\n\r\n  if(auth()) {\r\n      return next();\r\n  } else {\r\n      window.alert(\"로그인이 필요합니다.\")\r\n      return next('/')\r\n  }\r\n\r\n\r\n\r\n    function auth() {\r\n        const token = store.getters.accessToken;\r\n        let config = {\r\n            headers: {\r\n                // \"Authorization\": `Bearer ${token}`,\r\n            }\r\n        }\r\n        console.log(token)\r\n        axios\r\n            .get('http://localhost:8081/member/me', config)\r\n            .then(res => {console.log('HSTEST:: res => ', res)})\r\n            .catch(error => { console.log('HSTEST:: error => ', error) })\r\n    }\r\n};\r\n\r\nconst routes = [\r\n    {path:'/', component:Index},\r\n    {path: '/prac', component: prac},\r\n    {path: '/member/signup', component: SignUp},\r\n    {path: '/member/login', component: Login},\r\n/*    {path: '/member/me', component: Me},\r\n    {path: '/member/info', component: Info},*/\r\n    // 인증이 필요한 페이지는 decorator\r\n    {path: '/member/me', component: Me, beforeEnter: requireAuth()},\r\n    {path: '/member/info', component: Info, beforeEnter: requireAuth()},\r\n\r\n]\r\nconst options = {routes, mode:'history'}\r\nconst router = new VueRouter(options)\r\n\r\nexport default router;"]}]}